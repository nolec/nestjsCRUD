{"version":3,"file":"static/webpack/static/development/pages/index.js.0580334e6d80bdc4f0a4.hot-update.js","sources":["webpack:///./components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\nconst Header = styled.header`\n  width: 100%;\n  height: auto;\n  .container {\n    max-width: 1200px;\n    width: 100%;\n    height: auto;\n    .input_box {\n      display: flex;\n      justify-content: center;\n      align-content: center;\n      flex-direction: column;\n      > div {\n        flex: 0 0 33.333%;\n      }\n    }\n  }\n`;\nconst Item = styled.div``;\nexport default () => {\n  const [boards, setBoards] = useState();\n  const [render, setRender] = useState(false);\n  const [update, setUpdate] = useState(false);\n  const [formData, setFormData] = useState({\n    writer: '',\n    title: '',\n    contents: '',\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const res = await axios.post('http://localhost:3000/boards', formData);\n    setRender(true);\n    console.log(res.data, formData);\n  };\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n    console.log(formData);\n  };\n  const deleteBtn = async (id) => {\n    console.log(id);\n    const res = await axios.delete(`http://localhost:3000/boards/${id}`);\n    setRender(true);\n  };\n  const goToUpdate = (updateData) => {\n    setUpdate(true);\n  };\n  useEffect(() => {\n    const getAllBoards = async () => {\n      const res = await axios.get('http://localhost:3000/boards');\n\n      console.log(res.data);\n      setBoards(res.data);\n    };\n    getAllBoards();\n    setRender(false);\n  }, [render]);\n  useEffect(() => {\n    if(update) {\n      setFormData({\n        ...updateData,\n        title: updateData.title,\n        contents: updateData.contents,\n      });\n    }\n  },[update])\n  return (\n    <Header>\n      <div className=\"container\">\n        <div className=\"input_box\">\n          <div className=\"writer_box\">\n            <input\n              type=\"text\"\n              name=\"writer\"\n              placeholder=\"글쓴이\"\n              onChange={(e) => handleChange(e)}\n            />\n          </div>\n          <div className=\"title_box\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"제목\"\n              onChange={(e) => handleChange(e)}\n            />\n          </div>\n          <div className=\"contents_box\">\n            <input\n              type=\"text\"\n              name=\"contents\"\n              placeholder=\"내용\"\n              onChange={(e) => handleChange(e)}\n            />\n          </div>\n          <button type=\"submit\" onClick={handleSubmit}>\n            등록\n          </button>\n        </div>\n        <div className=\"boards_box\">\n          {boards &&\n            boards.length > 0 &&\n            boards.map((board, i) => (\n              <Item key={i}>\n                {`글쓴이 : ${board.writer}, 제목 : ${board.title}, 내용 : ${board.contents}`}\n                <button type=\"button\" onClick={() => deleteBtn(board._id)}>\n                  삭제\n                </button>\n                <button type=\"button\" onClick={() => goToUpdate(board)}>\n                  수정\n                </button>\n              </Item>\n            ))}\n        </div>\n      </div>\n    </Header>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAkBA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAKA;AACA;AACA;AAHA;AAJA;AAAA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAeA;;;;A","sourceRoot":""}